'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};define(['common/touchslider/touchslider','common/touchguesture/touchguesture','common/pointerevents/pointerevents','common/svgicos/svgicos','site/pages/pages','site/popups/popups'],function(a,b,c,d,e,f){function g(a,b,c){var d=b+'/'+c+'/',e=document.querySelector('#'+b+'>.content>.'+c);2===a.loaded&&'function'==typeof a.ondestory&&a.ondestory(),e.parentNode.removeChild(e),a.css&&'string'!=typeof a.css&&(a.css=v.removeCss(a.css).substr(require.toUrl(d).length)),a.js&&(d+=a.js,require.defined(d)&&(e=require(d),require.undef(d),e&&(window.Reflect?Reflect.setPrototypeOf(a,Object.prototype):a.__proto__=Object.prototype))),a.loaded=0}function h(a,b,c,d){function f(e){var f;h.querySelector(':scope>.content').insertAdjacentHTML('beforeEnd','<div class="'+b+'">'+e+'</div>'),l(h.querySelector(':scope>.content>.'+b)),'js'in a?(v.showLoading(),f=o+a.js,require([f],function(b){b&&(window.Reflect?Reflect.setPrototypeOf(a,b):a.__proto__=b),a.loaded=2,d(!0),v.hideLoading()},'dev'===VERSION?void 0:function(d){g(a,k,b),d.requireType&&'scripterror'!==d.requireType&&'nodefine'!==d.requireType||d.xhr&&404!==d.xhr.status?i(f,d.message,c):j(c),v.hideLoading()})):(a.loaded=2,d(!0))}var h,k,o,p,q,r;c&&a.alias&&(b=a.alias,a=e[a.alias]),2===a.loaded?d():1!==a.loaded&&(a.loaded=1,c?(h=document.getElementById('page'),k='page'):(h=document.getElementById('popup'),k='popup'),o=k+'/'+b+'/',p=require.toUrl(o),'string'==typeof a.css&&(a.css=v.appendCss(p+a.css)),'html'in a?(v.showLoading(),q=p+a.html,r=new XMLHttpRequest,r.open('get',q,!0),r.onreadystatechange=function(){4===this.readyState&&(200===this.status?f(this.responseText):(g(a,k,b),'dev'===VERSION||404!==this.status?i(q,this.status,c):j(c)),v.hideLoading())},r.send('')):f(''))}function i(a,b,c){v.alert('\u52A0\u8F7D'+a+'\u65F6\u53D1\u751F\u4E86\u4E00\u4E2A\u9519\u8BEF: '+b,c?function(){history.back()}:void 0)}function j(a){a?location.reload():v.confirm('\u7F51\u7AD9\u5DF2\u7ECF\u66F4\u65B0, \u4F7F\u7528\u8BE5\u529F\u80FD\u9700\u8981\u5148\u91CD\u65B0\u52A0\u8F7D. \u662F\u5426\u7ACB\u5373\u5237\u65B0\u672C\u9875?',function(a){a&&location.reload()})}function k(a,b,c,d){function e(a){this.removeEventListener(a.type,e,!1),d()}a.style.visibility='inherit',c?(b.style.animationName='panelTransR1',a.style.animationName='panelTransR2'):(b.style.animationName='panelTransL1',a.style.animationName='panelTransL2'),'function'==typeof d&&l(a,e)}function l(a,b){'function'!=typeof b&&(b=m),a.addEventListener('animationend',b)}function m(a){a.target===this&&(this.style.right='1'===this.style.animationName.substr(this.style.animationName.length-1)?this.style.visibility='':0,this.style.animationName='')}function o(){v.hideReadable(),v.closePopup()}function p(a){a.preventDefault()}function q(a){a.stopPropagation()}function r(a){a&&(v.listeners.remove(this,a.type,r),setTimeout(function(){document.querySelector('#popup').style.animationDuration=''},400)),document.body.addEventListener('transitionend',function(a){a.target===this&&(document.body.style.transition='')}),document.documentElement.classList.remove('loading')}var u,n=Math.max,s=Math.min,v={appendCss:function c(a){var b=document.createElement('link');return /\.less$/.test(a)?window.less?(b.rel='stylesheet/less',b.href=a,less.sheets.push(b),less.refresh()):(b.rel='stylesheet',b.href=a.replace(/less$/,'css')):(b.rel='stylesheet',b.href=a),document.head.appendChild(b)},removeCss:function b(a){return document.head.removeChild(a),'stylesheet/less'===a.rel&&(less.sheets.splice(less.sheets.indexOf(a),1),less.refresh()),a.getAttribute('href')},makeSvg:function d(a,b){var c=document.createElementNS('http://www.w3.org/2000/svg','svg');return c.appendChild(document.createElementNS('http://www.w3.org/2000/svg','path')),a&&v.setSvgPath(c,a,b),c},setSvgPath:function g(a,b,c){var e,f=v.makeSvg();d.hasOwnProperty(b)&&(b=d[b]),a.firstChild.setAttribute('d',b),f.style.position='absolute',f.style.bottom=f.style.right='100%',f.firstChild.setAttribute('d',b),document.body.appendChild(f),e=f.firstChild.getBBox(),document.body.removeChild(f),2==c?(e.width+=2*e.x,e.x=0,e.height+=2*e.y,e.y=0):c&&(e.width>e.height?(e.y-=(e.width-e.height)/2,e.height=e.width):(e.x-=(e.height-e.width)/2,e.width=e.height)),a.setAttribute('viewBox',e.x+' '+e.y+' '+e.width+' '+e.height)},buildHash:function d(a){var b,c='#!'+encodeURIComponent(a.id);for(b in a.args)c+=void 0===a.args[b]?'&'+encodeURIComponent(b):'&'+encodeURIComponent(b)+'='+encodeURIComponent(a.args[b]);return c},parseHash:function h(b){var c,d,f,g={id:u,args:{}};if(b=b.substr(1).replace(/[#?].*$/,''),f=b.match(/[^=&]+(=[^&]*)?/g),f&&'!'===f[0].charAt(0))for(d=decodeURIComponent(f[0].substr(1)),e.hasOwnProperty(d)&&(g.id=d),c=1;c<f.length;c++)d=f[c].match(/^([^=]+)(=)?(.+)?$/),d&&(g.args[decodeURIComponent(d[1])]=d[2]?decodeURIComponent(d[3]||''):void 0);return g},getDefaultBack:function g(a){var b,c,d,f;if(a||(a=v.location),d=e[a.id].backLoc,e[a.id].back&&e[e[a.id].back]&&(f={id:e[a.id].back,args:{}},c=e[e[a.id].back].alias?e[e[e[a.id].back].alias]:e[e[a.id].back],c.args))for(b=0;b<c.args.length;b++)a.args.hasOwnProperty(c.args[b])&&(f.args[c.args[b]]=a.args[c.args[b]]);if(d&&f){for(b in f.args)if(f.args[b]!==d.args[b])return f;return d}return d||f},isSameLocation:function d(a,b){if(a.id===b.id&&Object.keys(a.args).length===Object.keys(b.args).length){for(var c in a.args){if(!b.args.hasOwnProperty(c))return!1;if(void 0===a.args[c]){if(a.args[c]!==b.args[c])return!1;}else if(''+a.args[c]!=''+b.args[c])return!1}return!0}return!1},replaceLocation:function b(a){v.location&&v.isSameLocation(a,v.location)?v.reloadPage():location.replace(v.buildHash(a))},isGoingback:function k(a,b){var c,d,g,h=a;if(h!==b){if(b===u||h.length>b.length+1&&h.substr(0,b.length+1)===b+'-')return!0;for(;e[h].back;)if(h=e[h].back,h===b)return!0;for(h=a.split('-'),g=b.split('-'),d=s(h.length,g.length),c=0;c<d&&h[c]===g[c];c++);if(c<n(h.length,g.length)-1)return c<h.length-1&&h.splice(c+1),c<g.length-1&&g.splice(c+1),v.isGoingback(h.join('-'),g.join('-'))}},dataType:function c(b){var a='undefined'==typeof b?'undefined':_typeof(b);return'boolean'===a||'string'===a||'symbol'===a||'number'===a||'function'===a||'undefined'===a?a:(a=Object.prototype.toString.call(b).replace(/^\[object |\]$/g,'').toLowerCase(),'date'===a||'array'===a||'regexp'===a||'error'===a||'null'===a?a:'object')}};return!function(){function a(a,b){var c,d;for(a.xEvents[b.type].locked=!0,c=0;c<a.xEvents[b.type].length;c++)a.xEvents[b.type][c].call(a,b);for(a.xEvents[b.type].locked=!1;a.xEvents[b.type].stack.length;)a.xEvents[b.type].stack[0]?(d=a.xEvents[b.type].indexOf(a.xEvents[b.type].stack[0][1]),a.xEvents[b.type].stack[0][0]?0<=d&&a.xEvents[b.type].splice(d,1):0>d&&a.xEvents[b.type].push(a.xEvents[b.type].stack[0][1])):a.xEvents[b.type].splice(0,a.xEvents[b.type].length),a.xEvents[b.type].stack.shift();if(a.xEvents[b.type].length||(delete a.xEvents[b.type],a['on'+b.type]=null),a.xEvents.removeMark){for(c in delete a.xEvents.removeMark,a.xEvents)delete a.xEvents[c],a['on'+c]=null;delete a.xEvents}}v.listeners={add:function e(b,c,d){b.xEvents||(b.xEvents=function(c){a(b,c)}),b.xEvents[c]||(b.xEvents[c]=[],b.xEvents[c].stack=[],b.xEvents[c].locked=!1,b['on'+c]=b.xEvents),b.xEvents[c].locked?b.xEvents[c].stack.push([!1,d]):0>b.xEvents[c].indexOf(d)&&b.xEvents[c].push(d)},list:function e(a,b){var c,d;if(b)c=a.xEvents&&a.xEvents[b]?a.xEvents[b].slice(0):[];else if(c={},a.xEvents)for(d in a.xEvents)'array'===v.dataType(a.xEvents[d])&&a.xEvents[d].length&&(c[d]=a.xEvents[d].slice(0));return c},remove:function g(a,b,c){var d,e,f;if(a.xEvents)if(b)a.xEvents[b]&&(a.xEvents[b].locked?c?a.xEvents[b].stack.push([!0,c]):a.xEvents[b].stack.push(null):c?(f=a.xEvents[b].indexOf(c),0<=f&&a.xEvents[b].splice(f,1)):a.xEvents[b].splice(0,a.xEvents[b].length),0===a.xEvents[b].length&&(delete a.xEvents[b],a['on'+b]=null));else if(!a.xEvents.removeMark){for(d in a.xEvents)a.xEvents[d].locked?e=!0:(delete a.xEvents[d],a['on'+d]=null);e?a.xEvents.removeMark=!0:delete a.xEvents}}}}(),!function(){function a(){0===this.scrollTop?this.scrollTop=1:this.scrollTop+this.clientHeight===this.scrollHeight&&(this.scrollTop-=1)}v.scrollReload=function(a,b){v.fixIosScrolling(a);var d,e,f,g,i=c(a,function(c){function j(b){b.target!==a&&(g=!0,k())}function k(){window.removeEventListener('scroll',j,!0)}if('start'!==c.type){if(g)return g=!1,!0;var l;if(c.y>d+5)e||(e=!0,k()),c.domEvent.preventDefault(),f||(f=document.createElement('div'),f.className='reloadHint',f.appendChild(v.makeSvg('sync-alt-solid',1)),a.appendChild(f)),l=f.offsetHeight||f.clientHeight,c.y-d<2*l?(f.style.top=c.y-d-l+'px',f.classList.remove('pin'),f.style.opacity=(c.y-d)/l/2,f.style.transform='rotate('+360*f.style.opacity+'deg)'):(f.style.top=l+'px',f.style.opacity=1,f.classList.add('pin'),f.style.transform='');else{if(c.y<d&&!e)return!0;f&&(a.removeChild(f),f=void 0)}('end'===c.type||'cancel'===c.type)&&(f&&(a.removeChild(f),f.classList.contains('pin')&&('function'==typeof b?b():v.reloadPage()),f=void 0),e=!1)}else if(0===i.pointers.length&&(a.classList.contains('iosScrollFix')&&1===a.scrollTop||!a.classList.contains('iosScrollFix')&&0===a.scrollTop))return d=c.y,window.addEventListener('scroll',j,!0),!0})},v.fixIosScrolling=function(b,c){'IOS'===browser.name&&(b.style.webkitOverflowScrolling='touch',b.addEventListener('touchmove',q),!c&&(b.classList.add('iosScrollFix'),b.scrollTop=1,b.addEventListener('scroll',a)))},v.getScrollTop=function(a){return a.classList.contains('iosScrollFix')?a.scrollTop-1:a.scrollTop},v.getScrollHeight=function(a){return a.classList.contains('iosScrollFix')?a.scrollHeight-2:a.scrollHeight},v.setScrollTop=function(a,b){a.scrollTop=a.classList.contains('iosScrollFix')?b+1:b},'IOS'===browser.name&&window.addEventListener('touchmove',p)}(),!function(){function a(){1<c.length?(c.shift(),'function'==typeof c[0]?(c[0](),a()):b(c[0])):d.style.display=''}function b(a){var b,c,d;for(f.src=a.img,('right'in a)&&(f.style.right=a.right),('left'in a)&&(f.style.left=a.left),('top'in a)&&(f.style.top=a.top),('bottom'in a)&&(f.style.bottom=a.bottom),('width'in a)&&(f.style.width=a.width),('height'in a)&&(f.style.height=a.height),d=0;d<e.childNodes.length;d++)b=e.childNodes[d],a.rows[d]?(b.style.height=a.rows[d],b.className='unflexable'):(b.style.height='auto',b.className='flexable');for(b=e.childNodes[1],d=0;d<b.childNodes.length;d++)c=b.childNodes[d],a.cells[d]?(c.style.width=a.cells[d],c.className='unflexable'):(c.style.width='auto',c.className='flexable')}var c,d=document.getElementById('helper'),e=d.firstChild,f=d.lastChild;d.addEventListener('click',a),v.showHelper=function(a){c='array'===v.dataType(a)?a:[a],b(c[0]),d.style.display='block'}}(),!function(){function a(a,b){return c&&'function'==typeof f[c].onunload&&f[c].onunload()||'function'==typeof f[a].onload&&f[a].onload(b)}function b(a){c&&l.classList.remove(c),d=e=void 0,c=a,l.classList.add(c),n.data=f[a].title,document.body.classList.contains('hidePopupHeader')&&(document.title=n.data),o.style.display='none'}var c,d,e,i,j,l=document.getElementById('popup'),m=l.querySelector(':scope>.header>.close'),n=l.querySelector(':scope>.header>.title').firstChild,o=l.querySelector(':scope>.header>.back');v.openPopup=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.openPopup?window.frameElement.kernel.openPopup:function(a,b,d){var e=f[a];return e?(h(e,a,!1,function(){'function'==typeof e.open?e.open(b,c&&d):v.showPopup(a,d)}),!0):void v.hint('popup config not found: '+a)},v.showPopup=function(d,e){var g,h,m;if(i)j=function(){v.showPopup(d,e)};else if(e=c&&e,g=l.querySelector(':scope>.content>.'+d),!l.classList.contains('in')){if(a(d,e))return!0;g.style.right=0,g.style.visibility='inherit',l.classList.add('in'),i=d,'function'==typeof v.popupEvents.onshow&&v.popupEvents.onshow({type:'show',id:d}),b(d),v.hideReadable()}else{if(c!==d)return!!a(d,e)||(m=c,h=l.querySelector(':scope>.content>.'+c),k(g,h,e,function(){var a;i=!1,b(d),'function'==typeof f[m].onunloadend&&f[m].onunloadend(),document.activeElement&&h.contains(document.activeElement)&&document.activeElement.blur(),'function'==typeof f[c].onloadend&&f[c].onloadend(e),'function'==typeof j&&(a=j,j=void 0,a())}),i=d,!1);'function'==typeof f[d].onload&&f[d].onload(e)||'function'!=typeof f[d].onloadend||f[d].onloadend(e)}},v.closePopup=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.closePopup?window.frameElement.kernel.closePopup:function(a){var b;i?j=function(){v.closePopup(a)}:(b=v.getCurrentPopup(),b&&(!a||b===a||'array'===v.dataType(a)&&0<=a.indexOf(b))&&('function'!=typeof f[b].onunload||!f[b].onunload())&&(l.classList.remove('in'),l.classList.add('out'),i=!0,'function'==typeof v.popupEvents.onhide&&v.popupEvents.onhide({type:'hide',id:b})))},v.getCurrentPopup=function(){if(l.classList.contains('in'))return c},v.setPopupBack=function(a,b){l.classList.contains('in')&&(a?(o.lastChild.data='function'!=typeof a&&f[a].title?f[a].title:'\u8FD4\u56DE',d=a,o.style.display='',e=b):o.style.display='none')},v.setPopupTitle=function(a,b){b?f.hasOwnProperty(b)&&(f[b].title=a,c===b&&(n.data=a,document.body.classList.contains('hidePopupHeader')&&(document.title=n.data))):l.classList.contains('in')&&(n.data=a,document.body.classList.contains('hidePopupHeader')&&(document.title=n.data))},v.destoryPopup=function(a){var b=f[a];b&&g(b,'popup',a)},v.popupEvents={},m.appendChild(v.makeSvg('times-light',1)),m.addEventListener('click',function(){v.closePopup()}),o.insertBefore(v.makeSvg('angle-left-light',1),o.firstChild),o.addEventListener('click',function(){'function'==typeof d?d(e):v.openPopup(d,e,!0)}),l.addEventListener('animationend',function(a){var b,d;a.target===this&&(i=!1,this.classList.contains('out')?(this.classList.remove('out'),'function'==typeof v.popupEvents.onhideend&&v.popupEvents.onhideend({type:'hideend',id:c}),b=l.querySelector(':scope>.content>.'+c),b.style.right=b.style.visibility='','function'==typeof f[c].onunloadend&&f[c].onunloadend(),document.activeElement&&b.contains(document.activeElement)&&document.activeElement.blur(),l.classList.remove(c),c=void 0):('function'==typeof f[c].onloadend&&f[c].onloadend(!0),'function'==typeof v.popupEvents.onshowend&&v.popupEvents.onshowend({type:'showend',id:c})),'function'==typeof j&&(d=j,j=void 0,d()))})}(),!function(){var a,b=document.getElementById('readable'),c=b.querySelector(':scope>.close'),d=b.querySelector(':scope>.content');v.fixIosScrolling(d),v.showReadable=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.showReadable?window.frameElement.kernel.showReadable:function(c,e,f){'string'==typeof c?d.innerHTML=c:d.appendChild(c),b.className=f?'in '+f:'in',a=e},v.hideReadable=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.hideReadable?window.frameElement.kernel.hideReadable:function(){b.classList.contains('in')&&(b.classList.remove('in'),b.classList.add('out'),'function'==typeof a&&a())},v.showForeign=function(a,b){v.showReadable('<iframe frameborder="no" scrolling="auto" sandbox="allow-same-origin allow-forms allow-scripts" src="'+a+'"></iframe>',b,'foreign')},c.appendChild(v.makeSvg('times-solid',1)),c.addEventListener('click',v.hideReadable),b.addEventListener('animationend',function(a){if(a.target===this&&this.classList.contains('out')){for(;0<d.childNodes.length;)d.removeChild(d.firstChild);this.className=''}})}(),!function(){function c(){''===t.style.visibility&&''===q.style.visibility&&''===A.style.visibility&&''===D.style.visibility&&document.body.classList.remove('mask')}function d(){v.closeDialog()}function e(a,b,c){'inherit'===t.style.visibility?o.push([a,b,c]):(u.className=a,'alert'===a?w.textContent=b:'confirm'===a?'string'==typeof b?(w.textContent=b,y.textContent='\u662F',z.textContent='\u5426'):(w.textContent=b[0],y.textContent=b[1],z.textContent=b[2]):'string'==typeof b?w.innerHTML=b:w.appendChild(b),window.addEventListener('resize',f),f(),document.body.classList.add('mask'),t.style.visibility='inherit',l=c)}function f(){u.style.width=u.style.height='',u.style.left=u.style.top='20px',u.style.bottom=u.style.right='auto',u.style.width=u.offsetWidth+'px',u.style.height=u.offsetHeight+'px',u.style.left=u.style.top=u.style.bottom=u.style.right=''}function g(){F.style.width=p.w+'px',F.style.height=p.h+'px',F.style.left=p.l+'px',F.style.top=p.t+'px'}function h(){p.ww=window.innerWidth,p.wh=window.innerHeight,p.wr=p.ww/p.wh,p.ow=F.naturalWidth,p.oh=F.naturalHeight,p.r=p.ow/p.oh,p.ow>p.ww||p.oh>p.wh?p.r>p.wr?(p.z=p.mz=p.ww/p.ow,p.l=0,p.w=p.ww,p.h=p.w/p.r,p.t=(p.wh-p.h)/2):(p.z=p.mz=p.wh/p.oh,p.t=0,p.h=p.wh,p.w=p.h*p.r,p.l=(p.ww-p.w)/2):(p.z=p.mz=1,p.w=p.ow,p.h=p.oh,p.l=(p.ww-p.w)/2,p.t=(p.wh-p.h)/2),g()}function i(a){function b(a){var b=n(s(a.zoom*e,1),p.mz);b!==p.z&&(p.w=p.ow*b,p.h=p.oh*b,p.l=p.w>p.ww?s(n(c+(p.l-c)*b/p.z,p.ww-p.w),0):(p.ww-p.w)/2,p.t=p.h>p.wh?s(n(d+(p.t-d)*b/p.z,p.wh-p.h),0):(p.wh-p.h)/2,p.z=b,g())}var c=a.x,d=a.y,e=p.z;this.onzoomstart=null,this.onzoomchange=b,this.onzoomend=function(a){b.call(this,a),this.onzoomchange=this.zoomend=null,this.onzoomstart=i}}function j(a){function b(a){p.w>p.ww&&(p.l=s(n(e+a.x-c,p.ww-p.w),0)),p.h>p.wh&&(p.t=s(n(f+a.y-d,p.wh-p.h),0)),g()}var c=a.x,d=a.y,e=p.l,f=p.t;H.ondragmove=b,H.ondragend=function(a){b.call(this,a),this.ondragmove=this.ondragend=null,this.ondragstart=j}}var k,l,m=0,o=[],p={},q=document.getElementById('loading'),r=document.getElementById('hint'),t=document.getElementById('dialog'),u=t.querySelector(':scope>div'),w=u.querySelector(':scope>.content'),x=u.querySelector(':scope>.close'),y=u.querySelector(':scope>.btns>.yes'),z=u.querySelector(':scope>.btns>.no'),A=document.getElementById('sliderView'),B=A.querySelector(':scope>.close'),C=a(A.querySelector(':scope>.content')),D=document.getElementById('photoView'),E=D.querySelector(':scope>.close'),F=D.querySelector(':scope>img'),G=D.querySelector(':scope>.actions'),H=b(D);H.onzoomstart=i,H.ondragstart=j,v.showPhotoView=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.showPhotoView?window.frameElement.kernel.showPhotoView:function(a,b,c){var d,e;for(F.src=a;G.childNodes.length;)G.removeChild(G.firstChild);if('function'==typeof c&&b&&b.length){for(d=0;d<b.length;d++)e=document.createElement('a'),e.href='javascript:;',e.appendChild(document.createTextNode(b[d])),e.addEventListener('click',c.bind(v,d)),G.appendChild(e);G.style.display=''}else G.style.display='none'},v.hidePhotoView=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.hidePhotoView?window.frameElement.kernel.hidePhotoView:function(){F.src='about:blank'},F.addEventListener('load',function(){D.style.visibility='inherit',document.body.classList.add('mask'),window.addEventListener('resize',h),h()}),F.addEventListener('error',function(){D.style.visibility='',window.removeEventListener('resize',h),c()}),v.showSliderView=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.showSliderView?window.frameElement.kernel.showSliderView:function(a,b,c){var d;for(A.className=c||'',d=0;d<a.length;d++)C.add(a[d]);b&&C.slideTo(b,!0)},v.hideSliderView=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.hideSliderView?window.frameElement.kernel.hideSliderView:function(){C.clear()},v.alert=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.alert?window.frameElement.kernel.alert:function(a,b){e('alert',a,b)},v.confirm=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.confirm?window.frameElement.kernel.confirm:function(a,b){e('confirm',a,b)},v.htmlDialog=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.htmlDialog?window.frameElement.kernel.htmlDialog:function(a,b,c){e(b||'',a,c)},v.closeDialog=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.closeDialog?window.frameElement.kernel.closeDialog:function(b){var d;for(window.removeEventListener('resize',f,!1),t.style.visibility='',c(),'function'==typeof l&&l(b);w.childNodes.length;)w.removeChild(w.lastChild);l=void 0,o.length&&(d=o.shift(),v[d.shift()].apply(v,d))},v.showLoading=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.showLoading?window.frameElement.kernel.showLoading:function(a){q.querySelector(':scope>div').lastChild.data=a?a:'\u52A0\u8F7D\u4E2D...',0==m&&(q.style.visibility='inherit',document.body.classList.add('mask')),m++},v.hideLoading=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.hideLoading?window.frameElement.kernel.hideLoading:function(){0<m&&(m--,0==m&&(q.style.visibility='',c(),'function'==typeof v.dialogEvents.onloaded&&v.dialogEvents.onloaded({type:'loaded'})))},v.isLoading=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.isLoading?window.frameElement.kernel.isLoading:function(){return 0<m},v.hint=window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.hint?window.frameElement.kernel.hint:function(a,b){r.querySelector(':scope>.text').firstChild.data=a,k?clearTimeout(k):r.style.opacity=1,k=setTimeout(function(){r.style.opacity='',k=void 0},b?b:5e3)},v.dialogEvents={},C.onchange=function(){var a,b='';if(this.children.length){if(1<this.children.length)for(a=0;a<this.children.length;a++)b+=a===this.current?'\u25CF':'\u25CB';A.style.visibility='inherit',document.body.classList.add('mask')}else A.style.visibility='',c();A.querySelector(':scope>.nav').firstChild.data=b},x.appendChild(v.makeSvg('times-circle-solid',1)),x.addEventListener('click',d),z.addEventListener('click',d),y.addEventListener('click',v.closeDialog),B.appendChild(v.makeSvg('times-solid',1)),E.appendChild(B.firstChild.cloneNode(!0)),B.addEventListener('click',v.hideSliderView),E.addEventListener('click',v.hidePhotoView)}(),!function(){function a(a){for(var b,c=x.querySelector(':scope>.navMenu');c.childNodes.length;)c.removeChild(c.childNodes[0]);for(b in s=a,t={},s)e.hasOwnProperty(b)&&(t[b]=c.appendChild(document.createElement('a')),t[b].href='#!'+b,RegExp('^'+b+'(?:-|$)').test(v.location.id)?(t[b].className='selected',t[b].appendChild(v.makeSvg('string'==typeof s[b]?s[b]:s[b].selected,1))):t[b].appendChild(v.makeSvg('string'==typeof s[b]?s[b]:s[b].normal,1)),t[b].appendChild(document.createTextNode(e[b].alias?e[b].title||e[e[b].alias].title:e[b].title)))}function b(){var a=v.parseHash(location.hash);v.isSameLocation(a,v.location)||(v.lastLocation=v.location,v.location=a,e[v.location.id].back&&(v.lastLocation.id===e[v.location.id].back||e[v.lastLocation.id].alias===e[v.location.id].back)?(j[v.location.id]=e[v.location.id].backLoc=v.lastLocation,sessionStorage.setItem(w,JSON.stringify(j))):e[v.lastLocation.id].backLoc&&(v.location.id===e[v.lastLocation.id].back||e[v.location.id].alias&&e[v.location.id].alias===e[v.lastLocation.id].back)&&(delete e[v.lastLocation.id].backLoc,delete j[v.lastLocation.id],sessionStorage.setItem(w,JSON.stringify(j))),c())}function c(){var a,b,d=v.location.id,g=e[d];v.lastLocation&&(a=d.replace(/-.*$/,''),b=v.lastLocation.id.replace(/-.*$/,''),a!==b&&(a in t&&(t[a].className='selected','string'!=typeof s[a]&&v.setSvgPath(t[a].firstChild,s[a].selected,!0)),b in t&&(t[b].className='','string'!=typeof s[b]&&v.setSvgPath(t[b].firstChild,s[b].normal,!0))),o()),'function'==typeof v.pageEvents.onroute&&v.pageEvents.onroute({type:'route'}),h(g,d,!0,function(a){var b,g,h,j,o,p,q,r;if(m)n=!0;else{if(d!==l){for(q=e[d].alias?e[d].alias:d,x.classList.add(d),p=e[d].title||e[q].title,x.querySelector(':scope>.header>.title').firstChild.data=p,(document.body.classList.contains('clean')||document.body.classList.contains('hidePageHeader'))&&(document.title=p),window.frameElement&&window.frameElement.kernel&&'function'==typeof window.frameElement.kernel.getCurrentPopup&&'page'===window.frameElement.kernel.getCurrentPopup()&&window.frameElement.kernel.setPopupTitle(p);A.childNodes.length;)A.removeChild(A.firstChild);for(A.removeAttribute('href');z.childNodes.length;)z.removeChild(z.firstChild);z.removeAttribute('href'),e[q].rightMenuContent||e[q].onrightmenuclick?('string'==typeof e[q].rightMenuContent?A.innerHTML=e[q].rightMenuContent:e[q].rightMenuContent&&A.appendChild(e[q].rightMenuContent),'function'==typeof e[q].onrightmenuclick?A.href='javascript:;':e[q].onrightmenuclick&&(A.href=e[q].onrightmenuclick),A.style.display=''):A.style.display='none',e[q].leftMenuContent||e[q].onleftmenuclick?('string'==typeof e[q].leftMenuContent?z.innerHTML=e[q].leftMenuContent:e[q].leftMenuContent&&z.appendChild(e[q].leftMenuContent),'function'==typeof e[q].onleftmenuclick?z.href='javascript:;':e[q].onleftmenuclick&&(z.href=e[q].onleftmenuclick),z.style.display=''):z.style.display='none',i(v.getDefaultBack()),b=x.querySelector(':scope>.content>.'+q),l?(x.classList.remove(l),r=!o||a,h=l,j=e[h].alias?e[h].alias:h,l=d,q===j?f(!0):(o=v.isGoingback(h,d),m=!0,g=x.querySelector(':scope>.content>.'+j),k(b,g,o,function(){m=!1,'function'==typeof e[j].onunloadend&&e[j].onunloadend(),document.activeElement&&g.contains(document.activeElement)&&document.activeElement.blur(),'function'==typeof e[q].onloadend&&e[q].onloadend(r),n&&(n=!1,b.style.visibility='inherit',c())}),'function'==typeof e[j].onunload&&e[j].onunload(),'function'==typeof e[q].onload&&e[q].onload(r))):(l=d,b.style.right=0,b.style.visibility='inherit',f(!0))}else f();'function'==typeof v.pageEvents.onroutend&&v.pageEvents.onroutend({type:'routend',force:r})}})}function d(a,b){var c=e[l].alias?e[e[l].alias]:e[l];(!a||'string'==typeof a&&a===v.location.id||0<=a.indexOf(v.location.id))&&(!b&&o(),'function'==typeof c.onunload&&c.onunload(),'function'==typeof c.onunloadend&&c.onunloadend(),'function'==typeof c.onload&&c.onload(!0),'function'==typeof c.onloadend&&c.onloadend(!0))}function f(a){var b=e[l].alias?e[e[l].alias]:e[l];'function'==typeof b.onload&&b.onload(a),'function'==typeof b.onloadend&&b.onloadend(a)}function i(a){var b;a&&a.id?(b=e[a.id].title,!b&&e[a.id].alias&&(b=e[e[a.id].alias].title),y.lastChild.data=b||'\u8FD4\u56DE',y.href=v.buildHash(a),y.style.display=''):y.style.display='none'}var j,l,m,n,s,t,w=location.pathname,x=document.getElementById('page'),y=x.querySelector(':scope>.header>.back'),z=x.querySelector(':scope>.header>.leftMenuBtn'),A=x.querySelector(':scope>.header>.rightMenuBtn');try{sessionStorage.setItem(0,0),sessionStorage.removeItem(0)}catch(a){Storage.prototype.setItem=function(){}}v.init=function(d,f){if(e.hasOwnProperty(d))if(u=d,!v.location){for(var g in v.location=v.parseHash(location.hash),v.location.args.ui&&v.location.args.ui.split(',').forEach(function(a){document.body.classList.add(a)}),j=sessionStorage.getItem(w),j=j?JSON.parse(j):{},j)e.hasOwnProperty(g)&&(e[g].backLoc=j[g]);window.addEventListener('hashchange',b),a(f),window.addEventListener('contextmenu','Firefox'===browser.name?q:p),window.addEventListener('dragstart',p),c(),v.location.args.hasOwnProperty('autopopup')&&v.openPopup(v.location.args.autopopup,v.location.args.autopopuparg?JSON.parse(v.location.args.autopopuparg):void 0)?(document.querySelector('#popup').style.animationDuration='1ms',v.listeners.add(v.popupEvents,'showend',r)):r()}else f&&a(f),b()},v.reloadPage=function(a,b){function c(f){v.listeners.remove(this,f.type,c),e===v.location&&d(a,b)}var e;v.isLoading()?(e=v.location,v.listeners.add(v.dialogEvents,'loaded',c)):d(a,b)},v.destoryPage=function(a){var b=e[a];b&&g(b,'page',a)},v.pageEvents={},y.insertBefore(v.makeSvg('angle-left-light',1),y.firstChild),A.addEventListener('click',function(){var a=e[e[l].alias?e[l].alias:l];'function'==typeof a.onrightmenuclick&&a.onrightmenuclick()}),z.addEventListener('click',function(){var a=e[e[l].alias?e[l].alias:l];'function'==typeof a.onleftmenuclick&&a.onleftmenuclick()})}(),v});